<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=ISO-8859-1">
  <meta name="Author" content="Hubert de Fraysseix">
  <title>PIGALE Library</title>
  <link type="text/css" rel="stylesheet" href="style.css">
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
</head>
<body>
<table align="center">
  <tbody>
    <tr>
      <td><img src="./icones/misspost.jpg" hspace="0" border="1"
 align="left" alt="logo"></td>
      <td align="center"> <font size="+3"><b>P.I.G.A.L.E.</b></font> <br>
      <font size="+2"><br>
      <b>P</b>ublic <b>I</b>mplementation of a <b>G</b>raph <b>A</b>lgorithm
      <br>
      <b>L</b>ibrary and <b>E</b>ditor </font> <br>
      <br>
      <font size="-1"> <a
 href="http://www.ehess.fr/centres/cams/person/hf/"> H. de Fraysseix</a>&nbsp;
&nbsp; &nbsp; <a href="http://www.ehess.fr/centres/cams/person/pom/">
P. Ossona de Mendez</a> </font>
      </td>
	  <!-- for sourceforge 
	  <td>
	  <A href="http://sourceforge.net"> 
	  <IMG src="http://sourceforge.net/sflogo.php?group_id=50880&type=5" width="210" height="62" 
	  border="0" alt="SourceForge Logo"></A>
	</td>
	  for sourceforge -->
	</tr>
      </tbody>
    </table>
    <hr>

<h1> Client Server </h1>

<p>
The simple program <b>client</b> is an example how to communicate with the server.
The client reads its instructions from stdin so that 
it should not be difficult for applications to communicate with the server.
</p>
<p>
The server and client use a TCP connection on port 4242.
The server should be allowed to write on /tmp or \tmp on Windows (CREATE it, if necessary).
</p>
<p>
To launch the client/server application, first launch the server:<br>
<tt>pigale -server</tt> (serves one client at a time)<br>
then the client:<br>
<tt> client &lt data</tt><br> or a pipe <tt>cat data | client</tt>  (under Windows:  <tt>type data | client</tt>).
If the Client does not run on the same machine as the server:<br>
<tt>client www.computer.com &lt data  </tt>
</p>
<p>
An example file <b>Clientdata.txt</b>  and two graphs are provided.
If you run <br>
<tt>./client &lt Clientdata.txt </tt> <br>
you should receive 8 png files and a graphml file containing the last graph created. 
</p>
<h2> Main Commands </h2>
<p>
The commands that can be used are most of the ones found in QT/Action.h,
that is all the Pigale macros plus some specific ones:
</p>

<table class="opt1">
<caption>Specific commands</caption>
<tr><td >Command      	</td><td>argument</td><td> comment</td></tr> 
<tr><td class="opt">RS_GRAPH      	</td><td>graph filename</td><td> load a  graph  (on the server side)</td></tr> 
<tr><td class="opt">RC_GRAPH      	</td><td>graph filename</td><td> load a  graph  (from the client side)</td></tr> 
<tr><td class="opt">N_GRAPH	 </td><td></td><td> creates an emty graph</td></tr> 
<tr><td class="opt">N_V	     	</td><td>number of vertices</td><td> create n vertices</td></tr> 
<tr><td class="opt">N_E	     	</td><td>pair of vertices</td><td> create an edge  </td></tr> 
<tr><td class="opt">PNG          	</td><td></td><td> get a png image of the current drawing</td></tr> 
<tr><td class="opt">RS_SAVE_GRAPH	</td><td>graph filename with extension</td><td> ask the server to save the current graph and send it to the client</td></tr> 
</table>
<br>
<table class="opt">
<caption>Information</caption>
      <tr><td class="opt">N                                             </td><td> number of vertices</td></tr> 
        <tr><td class="opt">M                                           </td><td> number of edges</td></tr> 
        <tr><td class="opt">SIMPLE		</td><td> simple graph</td></tr> 
        <tr><td class="opt">PLAN		</td><td> planar</td></tr> 
        <tr><td class="opt">OPLAN		</td><td> outer planar</td></tr> 
        <tr><td class="opt">SR			</td><td> serie-parallel</td></tr> 
        <tr><td class="opt">MPLAN		</td><td> triangulated planar graph</td></tr> 
        <tr><td class="opt">BI			</td><td> Bipartite graph</td></tr> 
        <tr><td class="opt">MBI			</td><td> Max planar Bipartite graph</td></tr> 
        <tr><td class="opt">REG			</td><td> Regular</td></tr> 
        <tr><td class="opt">C1			</td><td> Connected</td></tr> 
        <tr><td class="opt">C2			</td><td> 2-Connected</td></tr> 	
        <tr><td class="opt">OPT			</td><td> 3-Connected</td></tr> 
        <tr><td class="opt">MIN_D		</td><td> minimal degree</td></tr> 
        <tr><td class="opt">MAX_D		</td><td> maximal degree</td></tr> 
        <tr><td class="opt">COORD		</td><td> retrieve coords</td></tr> 
        <tr><td class="opt">VLAB			</td><td> retrieve labels (long integers) </td></tr>  
</table>
<br>
All the other commands are the standart Pigale macros.
<br><br>
<table class="opt">
<caption>Generators</caption>
<tr><td class="opt">GEN_GRID  </td>                                    <td>grid</td></tr>
<tr><td class="opt">GEN_COMPLETE </td>                        <td>complete graph</td></tr> 
<tr><td class="opt">GEN_COMPLETE_BIP</td>                 <td>complete bipatite graph</td></tr>  
<tr><td class="opt">GEN_RANDOM </td>                             <td>planar or not</td></tr>     
<tr><td class="opt">GEN_PLANAR</td>                               <td>planar</td></tr>     
<tr><td class="opt">GEN_PLANAR_2C</td>                        <td>planar 2-connected</td></tr>    
<tr><td class="opt">GEN_PLANAR_3C</td>                        <td>planar 3-connected</td></tr>    
<tr><td class="opt">GEN_PLANAR_3R_2C</td>                  <td>planar 3-regular 2-connected</td></tr>    
<tr><td class="opt">GEN_PLANAR_3R_3C</td>                  <td>planar 3-regular 3-connected</td></tr>    
<tr><td class="opt">GEN_PLANAR_3R_D4C</td>               <td>planar 3-regular 3-connected without 4-separator</td></tr>    
<tr><td class="opt">GEN_PLANAR_4R_C </td>                   <td>planar 4-regular connected</td></tr>   
<tr><td class="opt">GEN_PLANAR_4R_2C </td>                  <td>planar 4-regular 2-connected</td></tr>   
<tr><td class="opt">GEN_PLANAR_4R_3C </td>                  <td>planar 4-regular 3-connected</td></tr>   
<tr><td class="opt">GEN_PLANAR_4R_BIP </td>                 <td>planar 4-regular bipartite</td></tr>   
<tr><td class="opt">GEN_PLANAR_BIP</td>                        <td>planar bipartite</td></tr>    
<tr><td class="opt">GEN_PLANAR_BIP_2C</td>                  <td>planar  2-connected bipartite</td></tr>    
<tr><td class="opt">GEN_PLANAR_BIP_3C</td>                   <td>planar  3-connected bipartite</td></tr>    
<tr><td class="opt">GEN_P_OUTER_N</td>                           <td>maximal outerplanar</td></tr>    
<tr><td class="opt">GEN_P_OUTER_NM</td>                        <td> outerplanar</td></tr>    
</table>
<br>
<table class="opt">
<caption>Duality and Angle graphs</caption>
<tr><td class="opt">DUAL </td></tr> 
<tr><td class="opt">DUAL_G </td></tr> 
<tr><td class="opt">ANGLE </td></tr> 
<tr><td class="opt">ANGLE_G </td></tr> 
</table>
<br>
<table class="opt">
<caption>Augmentation</caption>
<tr><td class="opt">CONNECT</td></tr>
<tr><td class="opt">BICONNECT</td></tr>
<tr><td class="opt">BICONNECT_NP</td></tr>
<tr><td class="opt">TRIANGULATE_V</td></tr>
<tr><td class="opt">TRIANGULATE_ZZ</td></tr>
<tr><td class="opt">TRIANGULATE_3C</td></tr>
<tr><td class="opt">QUADRANGULATE_V</td></tr>
<tr><td class="opt">BISSECT_ALL_E</td></tr>
</table>
<br>
<table class="opt">
<caption>Remove operations</caption>
<tr><td class="opt">REMOVE_ISOLATED_V  </td></tr>
<tr><td class="opt">REMOVE_LOOPS </td></tr> 
<tr><td class="opt">REMOVE_MULTIPLE_E </td></tr> 
<tr><td class="opt">REMOVE_BRIDGES </td></tr>
</table>
<br>


<table class="opt">
<caption>Drawing</caption>
<tr><td class="opt">SCHNYDER_E</td></tr>
<tr><td class="opt">SCHNYDER_V</td></tr>
<tr><td class="opt">FPP_FARY</td></tr>
<tr><td class="opt">TUTTE_CIRCLE </td></tr>
<tr><td class="opt">TUTTE </td></tr>
<tr><td class="opt">SPRING </td></tr>
<tr><td class="opt">SPRING_PM </td></tr>
<tr><td class="opt">JACQUARD </td></tr>
<tr><td class="opt">VISION </td></tr>
<tr><td class="opt">CONTATC_BIPARTI </td></tr>
<tr><td class="opt">POLAR</td></tr>
<tr><td class="opt">FPP_RECTI</td></tr> 
<tr><td class="opt">GVISION </td></tr>
<tr><td class="opt">T_CONTACT </td></tr>
<tr><td class="opt">EMBED-3d </td></tr>
</table>
<br>
<table class="opt">
<caption>Algorithms</caption>
<tr><td class="opt">KURATOWSKI </td></tr>   
<tr><td class="opt">COTREE_CRITICAL</td></tr>    
<tr><td class="opt">NPSET</td></tr>    
<tr><td class="opt">FIND_MAX_PLANAR</td></tr>    
<tr><td class="opt">RESET_COLORS </td></tr>   
<tr><td class="opt">NETCUT </td></tr>   
<tr><td class="opt">USE_GEOMETRIC_CIR</td></tr>    
<tr><td class="opt">USE_LRALGO_CIR</td></tr>    
<tr><td class="opt">SYMETRIE</td></tr>    
<tr><td class="opt">COLOR_BIPARTI</td></tr>    
<tr><td class="opt">COLOR_EXT_FACE</td></tr>    
<tr><td class="opt">COLOR_NON_CRITIC</td></tr>    
</table>
<br>
<table class="opt">
<caption>Orientation</caption>
<tr><td class="opt">ORIENT_EDGES </td></tr>   
<tr><td class="opt">ORIENT_INF</td></tr>    
<tr><td class="opt">ORIENT_TRICON</td></tr>    
<tr><td class="opt">ORIENT_BIPARTITE</td></tr>    
<tr><td class="opt">ORIENT_SCHNYDER</td></tr>    
<tr><td class="opt">ORIENT_BIPOLAR</td></tr>    
<tr><td class="opt">ORIENT_BIPOLAR_NON_PLANAR</td></tr>  
</table>
<br>
<table class="opt">
<caption>User defined</caption>
<tr><td class="opt">TEST_1</td></tr>    
<tr><td class="opt">TEST_2 </td></tr>   
<tr><td class="opt">TEST_3 </td></tr>   
</table>

<h2>A few words about the syntax</h2>
<p>
Command are separated by  <b>:</b> and  arguments by  <b>;</b>.<br>
For example, the line<br>
<tt>RC_GRAPH;ex.graphml</tt><br>
 asks to transfer the  file ex.graphml  from the client and  read the graph.<br>
</p>

Lines starting with <b>#</b> or <b>;</b> have a special meaning:<br>
- lines starting with '#' are comments<br>
- lines starting with ':'  modifies the client-server behaviour:
<ul>
<li>:D    debugging mode</li>
<li>:!      signals the end of file and disconnects frrom the server</li>
</ul>

In <b>debugging mode</b> all the commands (including comments)  are echoed by the client 
and then by the server (prepended by a <b>!</b>) when the command has been fully processed.<br>
<h2>An example</h2>
<h3>Input</h3>
<tt>
# debug mode
<br>:D
<br># ask to transfer the  file symm.tgf  from the client and read the first graph
<br>RC_GRAPH;symm.tgf;1
<br># ask the general visibility drawing
<br>GVISION
<br># asks to create and transfer to the client a png file
<br>PNG
<br>EMBED-3d:PNG
<br>:!
</tt>

<h3>Ouput</h3>
Below is a screenshot of the client running the previous file.<br>

<center>
    <IMG SRC="./icones/client.png" HSPACE=60 VSPACE=50 BORDER=1   ALT="client">
</center>

   <hr><!-- hhmts start -->
Last modified: Thu Apr 14 21:03:54 CEST 2005
<!-- hhmts end -->
</body>

</html>
